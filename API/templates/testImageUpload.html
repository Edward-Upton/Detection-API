<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Charities Day</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js" integrity="sha384-pjaaA8dDz/5BgdFUPX6M/9SUZv4d12SUPF0axWc+VRZkx5xU3daN+lYb49+Ax+Tl"
        crossorigin="anonymous"></script>
</head>

<body>

    <input type="file" onchange="previewFile()"><br>
    <img src="" height="200" alt="Image preview...">
    <img id="img2">
    <label id="label"></label>

    <form method="POST" action="/detect">
        <div>
            <textarea id="imageBase64" name="imageBase64" hidden></textarea>
            <button type="sumbit">Submit Picture for Detection</button>
        </div>
        <script>
            function previewFile() {
                var preview = document.querySelector('img');
                var file = document.querySelector('input[type=file]').files[0];
                var reader = new FileReader();
                var imageDataInput = document.getElementById('imageBase64');

                reader.addEventListener("load", function () {
                    var imageDataB64 = reader.result;
                    preview.src = imageDataB64;
                    imageDataInput.value = String(imageDataB64);

                }, false);
                
                if (file) {
                    reader.readAsDataURL(file);


                } else {
                    preview.src = "";
                }
            }
        </script>

</body>